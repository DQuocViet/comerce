var URL = "https://localhost:8000/jwtauth/register/";
function readCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }

    var csrftoken = readCookie('csrftoken');

function userregister()
    {
        var jsonarr = {
            "username": $("#username").val(),
            "email": $("#email").val(),
            "password": $("#password1").val(),
            "password2" : $("#password2").val(),
            "profileSerializer.isEmployer" : $("#Employer:checked").val(),
            "profileSerializer.isWorker": $("#Worker:checked").val()
            // "profileSerializer.isEmployer" : "True",
            // "profileSerializer.isWorker": "False"
        }

        console.log(JSON.stringify(jsonarr))
       $.ajax(
          { "url": URL,
              "data": JSON.stringify(jsonarr),
              "type": "POST",
              "headers": {"X-CSRFToken": csrftoken},
              "success": success,
              "error": error
          }
      ); // ajax()
    }

    function success()
    {
        alert("Đăng ký thành công!");
    }

    function error()
    {
        alert("Tài khoản hoặc mật khẩu không hợp lệ!");
    }

    // {#show password#}
    function show_password() {
        var pw1 = document.getElementById("password");
        var pw2 = document.getElementById("password2");
        if (pw1.type === "password") {
            pw1.type = "text";
        } else {
            pw1.type = "password";
        }
        if (pw2.type === "password") {
            pw2.type = "text";
        } else {
            pw2.type = "password";
        }
    }
    // {#end show password#}